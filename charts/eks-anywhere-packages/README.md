# eks-anywhere-packages

A Helm chart for eks-anywhere-packages, a controller for managing the lifecycle of EKS Anywhere packages.

![Version: 0.0.0](https://img.shields.io/badge/Version-0.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.0](https://img.shields.io/badge/AppVersion-0.0.0-informational?style=flat-square)

## Installing the Chart

Before the chart can be installed the we need to install cert-manager.

```bash
kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.7.1/cert-manager.yaml
```

To do a simple install run:

```bash
helm upgrade --install --namespace eksa-packages --create-namespace \
  eksa-packages eks-anywhere-packages/ \
  --values values.yaml
```

To Uninstall:

```
helm delete eksa-packages
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| additionalAnnotations | object | `{}` | Additional annotations to add into metadata. |
| additionalLabels | object | `{}` | Additional labels to add into metadata. |
| aws.defaultInstanceProfile | string | `""` | The default instance profile to use when launching nodes on AWS |
| clusterEndpoint | string | `""` | Cluster endpoint. |
| clusterName | string | `""` | Cluster name. |
| controller.env | list | `[{"name":"ENABLE_WEBHOOKS","value":"true"}]` | Additional environment variables for the controller pod. |
| controller.image | string | `"public.ecr.aws/f5b7k4z5/eks-anywhere-packages"` | Controller image. |
| controller.livenessProbe | object | `{"initialDelaySeconds":15,"path":"/healthz","periodSeconds":20,"port":8081}` | livenessProbe controls the values for controller container readiness. TODO Add in templating later |
| controller.readinessProbe | object | `{"initialDelaySeconds":5,"path":"/readyz","periodSeconds":10,"port":8081}` | readinessProbe controls the values for controller container readiness. TODO Add in templating later |
| controller.resources | object | `{"limits":{"cpu":"500m","memory":"100Mi"},"requests":{"cpu":"100m","memory":"50Mi"}}` | Resources for the controller pod. |
| controller.securityContext | object | `{"allowPrivilegeEscalation":false}` | SecurityContext for the controller container. |
| fullnameOverride | string | `""` | Overrides the chart's computed fullname. |
| imagePullPolicy | string | `"IfNotPresent"` | Image pull policy for Docker images. |
| kuberbacproxy.env | list | `[]` | Additional environment variables for the webhook pod. |
| kuberbacproxy.image | string | `"gcr.io/kubebuilder/kube-rbac-proxy:v0.8.0"` | Webhook image. |
| nameOverride | string | `""` | Overrides the chart's name. |
| namespace | string | `"eksa-packages"` | The namespace to deploy the resources into |
| nodeSelector | object | `{"kubernetes.io/os":"linux"}` | Node selectors to schedule the pod to nodes with labels. |
| podAnnotations | object | `{}` | Additional annotatiimagePullSecretsons for the pod. |
| podLabels | object | `{}` | Additional labels for the pod. |
| podSecurityContext | object | `{"runAsNonRoot":true}` | SecurityContext for the pod. |
| replicaCount | int | `1` | Number of replicas. |
| serviceAccount.annotations | object | `{}` | Additional annotations for the ServiceAccount. |
| serviceAccount.name | string | `"eks-anywhere-packages-serviceaccount"` | The name of the ServiceAccount to use. |
| serviceMonitor.additionalLabels | object | `{}` | Additional labels for the ServiceMonitor. |
| serviceMonitor.enabled | bool | `false` | Specifies whether a ServiceMonitor should be created. |
| serviceMonitor.endpointConfig | object | `{}` | Endpoint configuration for the ServiceMonitor. |
| strategy | object | `{"type":"Recreate"}` | Strategy for updating the pod. |
| terminationGracePeriodSeconds | int | `10` | Override the default termination grace period for the pod. |
| tolerations | list | `[]` | Tolerations to allow the pod to be scheduled to nodes with taints. |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.7.0](https://github.com/norwoodj/helm-docs/releases/v1.7.0)